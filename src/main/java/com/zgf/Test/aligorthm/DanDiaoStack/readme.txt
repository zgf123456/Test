https://zhuanlan.zhihu.com/p/101785785


什么是单调栈
单调栈就是栈里面存放的数据都是有序的，所以可以分为单调递增栈和单调递减栈两种。

单调递增栈就是从栈底到栈顶是从大到小
单调递减栈就是从栈底到栈顶是从小到大
单调栈的经典题目（求最大子矩阵的大小）
【题目】
给定一个整型矩阵map，其中的值只有0和1两种，求其中全是1的所有矩形区域中，最大的矩形区域为1的数量。
例如：
1 1 1 0
其中，最大的矩形区域有3个1，所以返回3。
再如：
1 0 1 1
1 1 1 1
1 1 1 0
其中，最大的矩形区域有6个1，所以返回6.
要想解答这道题，我先引入另一道题来更好得帮你理解。

给出一个矩形统计图，它的每个矩形的宽度都为1，高度是题目所给。要你求出这个矩形图中最大面积的长方形。
矩形统计图的数据为 [4, 3, 2, 5, 6]

思路：

准备一个栈，栈低到栈顶是从小到大的。栈如图所示


第一个下标是0，值是4，栈为空，放入栈中。
第二个下标为1，值为3，比栈顶（此时是4）小，不符合栈低到栈顶从小到大，所以弹出栈顶（4），此时4最左边界就是-1，最右就是1，所以弹出的面积就是4 *（1-（-1）-1）为4；然后3入栈
第三个下标为2，值为2，比栈顶（此时是3）小，不符合栈低到栈顶从小到大，所以弹出栈顶（3），此时3的最左边界是-1，最右就是2，所以弹出的面积是3 *（2-（-1）-1）为6；然后2入栈
第四个下标为3，值为5，比栈顶（此时是2）大，符合栈低到栈顶从小到大，所以5入栈
第五个下标为4，值为6，比栈顶（此时是6）大，符合栈低到栈顶从小到大，所以6入栈
此时没有值可以入栈了，弹出6，此时6的最左边界就是栈顶（5）的下标3，最右边界就是5，所以弹出的面积是6 *（5-（3）-1）为6
继续出栈，面积为5 *（5-（2）-1）为10；
继续出栈，面积为2 *（5-（-1）-1）为10；
最大值就是10，所以输入10
ps：建议画图，然后按照我上面写的步骤尝试一遍，你就很清楚整个过程了